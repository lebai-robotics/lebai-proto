syntax = "proto3";

import "google/protobuf/empty.proto";
import "cmp.proto";

package lebai.claw;

enum Address {
  AMPLITUDE = 0;
  FORCE = 1;
  VOLTAGE = 2;
  DISTANCE = 3;
  DO = 4;
  ACTUAL_AMPLITUDE = 5;
  ActualForce = 6;
  INIT = 8;
  FLAG = 9;
  ERROR = 10;
  WEIGHT = 11;
}

message Claw {
  double force = 1;
  double amplitude = 2;
  double weight = 3;
  bool hold_on = 4 [json_name = "hold_on"];
}

message InitClawRequest {
  bool force = 1;
}
message SetClawAoRequest {
  Address address = 1;
  double value = 2;
}
message GetClawHoldOnResponse {
  bool hold_on = 1 [json_name = "hold_on"];
}
message GetClawAoRequest {
  Address address = 1;
}
message GetClawAoResponse {
  double value = 2;
}
message WaitClawAoRequest {
  Address address = 1;
  double value = 2;
  cmp.Relation relation = 3;
}

/// 手爪相关服务
service ClawService {
  /// 初始化手爪
  rpc InitClaw(InitClawRequest) returns (google.protobuf.Empty);
  /// 设置手爪数据
  rpc SetClaw(Claw) returns (google.protobuf.Empty);
  /// 获取手爪幅度是否稳定
  rpc GetClawHoldOn(google.protobuf.Empty) returns (GetClawHoldOnResponse);
  /// 设置手爪指定数据
  rpc SetClawAio(SetClawAoRequest) returns (google.protobuf.Empty);
  /// 读取手爪指定数据
  rpc GetClawAio(GetClawAoRequest) returns (GetClawAoResponse);
  /// 等待手爪指定数据
  rpc WaitClawAio(WaitClawAoRequest) returns (google.protobuf.Empty);
}
